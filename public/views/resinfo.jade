div(ng-hide='success')
	h3 {{errorMessage}}
	button(ng-click='$route.reload()') Return
div(ng-show='success')
	h1 Resource Detail
	div(ng-hide='editing')
		p Resource name: {{resource.name}}
		p Uploader: {{resource.uploader}}
		p 
			| Description:
			br
			| {{resource.description}}
		p Date of upload: {{resource.dateOfUpload | date:'d/M/yyyy'}}
		p
			button(ng-show='admin || uid === resource.uploader' ng-click='enableEdit()') Edit Resource
			button(ng-show='!adding' ng-click='enableAdd()') Add Comment
			button(ng-click = 'download()') Download
	div(ng-show='editing')
		form 
			p Resource name:
				input(type='text' ng-model='edit.name')
			p Uploader: {{resource.uploader}} 
			p Description:
			p
				textarea(rows='3' cols='50' ng-model='edit.description' placeholder='At least 30 characters')
			p Date of upload: {{resource.dateOfUpload | date:'d/M/yyyy'}}
			p
				button(type='submit' ng-click='editResource()') Sumbit

	div(ng-show='adding')
		form
			p Comment:
			p 
				textarea(rows='3' cols='50' ng-model='newComment' placeholder='At least 30 characters')
			button(type='submit' ng-click='addComment()') Confirm
		
	Strong {{resource.comment.length}} Comments:
	div(ng-repeat='cm in resource.comment')
		p
			| Author: {{cm.author}}
		p
			| Time: {{cm.dateOfComment | date:'dd/MM/yyyy'}}
		p
			| Comment:
			br
			| {{cm.content}}
		p
			button(ng-show='admin' ng-click='deleteComment(cm._id)') Delete
	p
		button(ng-click='$location.path("/resource/" + resource.courseCode)') Back